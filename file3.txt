iこんにちは、いとう＠遠隔お酌です、
このお話は、[isaax勉強会#21](https://isaaxug.connpass.com/event/109196/)でLTした内容です。
我々の「遠隔お酌」プロダクトがisaaxを採用した理由を紹介します。

# 遠隔お酌とは
インターネットに接続したお酌装置です、
[【居酒屋 x IoT】業界初！？ 養老乃瀧ハッカソン！](https://yorohack.connpass.com/event/52842/)で生まれました。
ハッカソンの様子はこちら（https://dotstud.io/blog/yoro-hack-ukkz-report/)

このハッカソン、開始と同時にビールで乾杯なのです。飲みながらチームビルディングを行うのですが、気が付いたら松原さんしか残っていませんでした、なので２人でやろうとなりました。

アイデアは、松原さんが元々考えてました、
離れて暮らしている方々に、お酌を通して繋がりを感じていただくことがコンセプトです。

幸運なことに、最優秀賞で、賞金１０万円頂きました:smiley:
![image.png](https://qiita-image-store.s3.amazonaws.com/0/136795/f3cb415e-b1fe-f87a-cbd1-01b5a510f3dd.png)

さらに、実証実験もやらせていただけるとのことなので、ちゃんと動くものを作りました。
ハッカソンの時は、おもちゃの哺乳瓶を傾ける装置だったのですが、試行錯誤の結果、今の形になりました。
![image.png](https://qiita-image-store.s3.amazonaws.com/0/136795/159be21f-067a-b435-4c15-d625d574b0ce.png)

実証実験は、敬老の日におこないました、いなかのお爺ちゃんに、お孫さんがお酌をして楽しんでいただきました。
その時の動画です。
https://youtu.be/SpkNJvoP58w

勉強会やアイデアソンなどイベントに持ち込んで、皆さん楽しんでもらってます、先日新聞にも載せていただいています。
![image.png](https://qiita-image-store.s3.amazonaws.com/0/136795/3964ac3a-20fc-7a3a-fa7a-ce3f9ad505eb.png)
どうせなら市販したいとも思っているのですが...


# isaaxとは
詳細は、 https://isaax.io/ を見てもらったほうがいいのですが、簡単にいうと

- 多数の端末のソフトを一発でアップデートできる
- ネットに繋がっていれば、手元になくもOK
- gitを使っているのでバージョン管理もできる

というサービスです。

# 遠隔お酌とisaax

### ソフトウエアの改修が多い
仕事で行っているわけではないので、ちゃんと調査検討設計ができていないので、プログラムをいろいろ修正しています

- バグ対策
 - エラー対策
- 機能アップ
 - 通信プロトコル変更
 - デモモード
 - 起動処理時間の改善
などなど

また、相方は、ソフトウエアエンジニアでないので、git pullやviなどの操作は、無理があります。

### 装置が多数
- 二人で１組（２台）で４台＋α
- 会社が違うので、そんなに会えない、装置持ち運ぶのも大変
- 養老乃瀧に、納品することが決定

という状態になりました、計６台ですが、ちょっと心配になります。

### isaax 超便利
そんな時に、isaaxを知りました、ちょうど勉強会があったので参加しました。

- git pushするだけで全デバイスがバージョンアップできる！
- ログがリアルタイムでみれる！
- プログラムの再起動も可能！
- git branch切って、isaaxクラスターで分ければ、カナリヤテスト（ABテスト）できる！
- pre-updateスクリプトでnpm installやpip installにも対応！

### isaax 最高！！
- ソフトのバージョン管理（旧バージョン対応）は大変ですよね
- 旧APIやI/Fをいつまでサポートするのか？も良く問題になります
- Isaaxなら端末の起動時に最新バージョンに更新されるので、古いAPIやI/Fを捨てられます
- Isaaxコンソール見れば、各端末のバージョンが一目瞭然
- 
どうですか？使ってみたくなったでしょ？？

### isaax へ要望
とても便利なのですが、使いづらいこともあります

###### ログのでかた
 - LINEみたいにおしゃれだけど、デバッグには…
![image.png](https://qiita-image-store.s3.amazonaws.com/0/136795/43a126d4-40da-21ec-428d-a11838ee704e.png)

普通のコンソール画面みたいにしてほしいです

###### １台に１つのプログラムしか管理できない
もともと、遠隔お酌は下記３つのプログラムで動いていました

- ＢＬＥ受信、データ送信
- データ受信
- サーボを動かす

ところが、isaaxは、１つのプログラムしか管理できないので、下記のようにプログラムは２つにまとめました、サーボのプログラムは改修は多分ないので、isaaxでは管理しないことにしました。

- ＢＬＥ受信、データ送受信
- サーボを動かす

### isaax 簡単です
リモートにラズパイ置くなら必須といっても過言ではありません。
また、（台数制限がありますが）無料で簡単に使えるので、みなさんも使ってみてください

